<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #codeBox {
            width: 200px;
            height: 50px;
            border: solid 1px green;
            line-height: 50px;
            text-align: center;
            letter-spacing: 5px;
            cursor: pointer;
            font-size: 20px;
            -webkit-user-select: none;
        }
    </style>
</head>

<body>
    <div id="codeBox"></div>
</body>

</html>
<script>
    function verifyCode(id, num, m, n) {
        var num = num || 4;
        var m = m || 50;
        var n = n || 16;
        var codeBox = document.getElementById(id);
        var areaStr = '0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';
        var areaColor = '0123456789abcdef';
        var result = '';
        for (var i = 0; i < num; i++) { // 获取指定位随机字符,默认四位
            // 获取随机字符
            var ranChar = areaStr[Math.round(Math.random() * (areaStr.length - 1))];
            // 检测字符是否重复
            if (result.indexOf(ranChar) > -1) {
                i--;
                continue;
            }
            var ranColor = '#';
            for (var j = 0; j < 6; j++) { // 随机颜色
                ranColor += areaColor[Math.round(Math.random() * (areaColor.length - 1))];
            }
            // 随机字体大小
            var ranSize = '';
            ranSize += Math.round((Math.random() * (m - n)) + n) + 'px';

            result += '<span style="color:' + ranColor + ';font-size:' + ranSize + '">' + ranChar + '</span>';
        }
        codeBox.innerHTML = result;
    }
    verifyCode('codeBox', 4, 40, 30);

    var codeBox = document.getElementById('codeBox');
    codeBox.onclick = function () {
        verifyCode('codeBox');
    }
</script>